{"ast":null,"code":"import { MapaSelectorComponent } from 'src/app/shared/mapa-selector/mapa-selector.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/shared/tracking/firebase-tracking.servicio\";\nimport * as i4 from \"@ionic/angular\";\nimport * as i5 from \"../../shared/mapa-selector/mapa-selector.component\";\nexport let TrackingSolicitantePage = /*#__PURE__*/(() => {\n  class TrackingSolicitantePage {\n    constructor(fb, route, firebaseTracking) {\n      this.fb = fb;\n      this.route = route;\n      this.firebaseTracking = firebaseTracking;\n      this.servicioId = '';\n      this.dummyForm = this.fb.group({\n        latitud: [''],\n        longitud: ['']\n      });\n    }\n    ngOnInit() {\n      this.servicioId = this.route.snapshot.paramMap.get('id') || '';\n      this.route.queryParams.subscribe(params => {\n        this.latitudOrigen = parseFloat(params['latitudOrigen']);\n        this.longitudOrigen = parseFloat(params['longitudOrigen']);\n        this.latitudDestino = parseFloat(params['latitudDestino']);\n        this.longitudDestino = parseFloat(params['longitudDestino']);\n        this.escucharTracking();\n      });\n    }\n    escucharTracking() {\n      this.firebaseTracking.escucharUbicacion(this.servicioId, ({\n        latitud,\n        longitud\n      }) => {\n        if (latitud && longitud) {\n          this.dummyForm.patchValue({\n            latitud,\n            longitud\n          });\n          setTimeout(() => {\n            this.mapaSelector.moverMarcador(latitud, longitud);\n          }, 300);\n        }\n      });\n    }\n    static {\n      this.ɵfac = function TrackingSolicitantePage_Factory(t) {\n        return new (t || TrackingSolicitantePage)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.FirebaseTrackingServicio));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: TrackingSolicitantePage,\n        selectors: [[\"app-tracking-solicitante\"]],\n        viewQuery: function TrackingSolicitantePage_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(MapaSelectorComponent, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mapaSelector = _t.first);\n          }\n        },\n        decls: 7,\n        vars: 6,\n        consts: [[\"color\", \"primary\"], [1, \"consulta-background\"], [1, \"consulta-container\"], [3, \"formGroup\", \"soloLectura\", \"latitudOrigen\", \"longitudOrigen\", \"latitudDestino\", \"longitudDestino\"]],\n        template: function TrackingSolicitantePage_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\", 0)(2, \"ion-title\");\n            i0.ɵɵtext(3, \"Tracking del Prestador\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(4, \"ion-content\", 1)(5, \"div\", 2);\n            i0.ɵɵelement(6, \"app-mapa-selector\", 3);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"formGroup\", ctx.dummyForm)(\"soloLectura\", true)(\"latitudOrigen\", ctx.latitudOrigen)(\"longitudOrigen\", ctx.longitudOrigen)(\"latitudDestino\", ctx.latitudDestino)(\"longitudDestino\", ctx.longitudDestino);\n          }\n        },\n        dependencies: [i4.IonContent, i4.IonHeader, i4.IonTitle, i4.IonToolbar, i1.NgControlStatusGroup, i1.FormGroupDirective, i5.MapaSelectorComponent],\n        styles: [\".consulta-background[_ngcontent-%COMP%]{--background: #f5f5f5}.consulta-container[_ngcontent-%COMP%]{width:90%;margin:auto;padding-top:4vh}\"]\n      });\n    }\n  }\n  return TrackingSolicitantePage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}