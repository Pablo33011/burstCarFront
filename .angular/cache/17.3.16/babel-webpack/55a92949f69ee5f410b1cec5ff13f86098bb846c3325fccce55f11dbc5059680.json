{"ast":null,"code":"// index.ts\nimport { clone } from \"@turf/clone\";\nimport { coordAll, featureEach } from \"@turf/meta\";\nimport skmeans from \"skmeans\";\nfunction clustersKmeans(points, options = {}) {\n  var count = points.features.length;\n  options.numberOfClusters = options.numberOfClusters || Math.round(Math.sqrt(count / 2));\n  if (options.numberOfClusters > count) options.numberOfClusters = count;\n  if (options.mutate !== true) points = clone(points);\n  var data = coordAll(points);\n  var initialCentroids = data.slice(0, options.numberOfClusters);\n  var skmeansResult = skmeans(data, options.numberOfClusters, initialCentroids);\n  var centroids = {};\n  skmeansResult.centroids.forEach(function (coord, idx) {\n    centroids[idx] = coord;\n  });\n  featureEach(points, function (point, index) {\n    var clusterId = skmeansResult.idxs[index];\n    point.properties.cluster = clusterId;\n    point.properties.centroid = centroids[clusterId];\n  });\n  return points;\n}\nvar turf_clusters_kmeans_default = clustersKmeans;\nexport { clustersKmeans, turf_clusters_kmeans_default as default };\n//# sourceMappingURL=index.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}