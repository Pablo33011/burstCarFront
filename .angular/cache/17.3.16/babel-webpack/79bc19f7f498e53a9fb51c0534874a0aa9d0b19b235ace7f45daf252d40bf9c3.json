{"ast":null,"code":"// index.js\nimport { bearing } from \"@turf/bearing\";\nimport { distance } from \"@turf/distance\";\nimport { destination } from \"@turf/destination\";\nimport { lineString, isObject } from \"@turf/helpers\";\nfunction lineSliceAlong(line, startDist, stopDist, options) {\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var coords;\n  var slice = [];\n  if (line.type === \"Feature\") coords = line.geometry.coordinates;else if (line.type === \"LineString\") coords = line.coordinates;else throw new Error(\"input must be a LineString Feature or Geometry\");\n  var origCoordsLength = coords.length;\n  var travelled = 0;\n  var overshot, direction, interpolated;\n  for (var i = 0; i < coords.length; i++) {\n    if (startDist >= travelled && i === coords.length - 1) break;else if (travelled > startDist && slice.length === 0) {\n      overshot = startDist - travelled;\n      if (!overshot) {\n        slice.push(coords[i]);\n        return lineString(slice);\n      }\n      direction = bearing(coords[i], coords[i - 1]) - 180;\n      interpolated = destination(coords[i], overshot, direction, options);\n      slice.push(interpolated.geometry.coordinates);\n    }\n    if (travelled >= stopDist) {\n      overshot = stopDist - travelled;\n      if (!overshot) {\n        slice.push(coords[i]);\n        return lineString(slice);\n      }\n      direction = bearing(coords[i], coords[i - 1]) - 180;\n      interpolated = destination(coords[i], overshot, direction, options);\n      slice.push(interpolated.geometry.coordinates);\n      return lineString(slice);\n    }\n    if (travelled >= startDist) {\n      slice.push(coords[i]);\n    }\n    if (i === coords.length - 1) {\n      return lineString(slice);\n    }\n    travelled += distance(coords[i], coords[i + 1], options);\n  }\n  if (travelled < startDist && coords.length === origCoordsLength) throw new Error(\"Start position is beyond line\");\n  var last = coords[coords.length - 1];\n  return lineString([last, last]);\n}\nvar turf_line_slice_along_default = lineSliceAlong;\nexport { turf_line_slice_along_default as default, lineSliceAlong };\n//# sourceMappingURL=index.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}