{"ast":null,"code":"// index.ts\nimport { coordEach } from \"@turf/meta\";\nimport { isNumber } from \"@turf/helpers\";\nimport { clone } from \"@turf/clone\";\nfunction toMercator(geojson, options = {}) {\n  return convert(geojson, \"mercator\", options);\n}\nfunction toWgs84(geojson, options = {}) {\n  return convert(geojson, \"wgs84\", options);\n}\nfunction convert(geojson, projection, options = {}) {\n  options = options || {};\n  var mutate = options.mutate;\n  if (!geojson) throw new Error(\"geojson is required\");\n  if (Array.isArray(geojson) && isNumber(geojson[0])) geojson = projection === \"mercator\" ? convertToMercator(geojson) : convertToWgs84(geojson);else {\n    if (mutate !== true) geojson = clone(geojson);\n    coordEach(geojson, function (coord) {\n      var newCoord = projection === \"mercator\" ? convertToMercator(coord) : convertToWgs84(coord);\n      coord[0] = newCoord[0];\n      coord[1] = newCoord[1];\n    });\n  }\n  return geojson;\n}\nfunction convertToMercator(lonLat) {\n  var D2R = Math.PI / 180,\n    A = 6378137,\n    MAXEXTENT = 20037508342789244e-9;\n  var adjusted = Math.abs(lonLat[0]) <= 180 ? lonLat[0] : lonLat[0] - sign(lonLat[0]) * 360;\n  var xy = [A * adjusted * D2R, A * Math.log(Math.tan(Math.PI * 0.25 + 0.5 * lonLat[1] * D2R))];\n  if (xy[0] > MAXEXTENT) xy[0] = MAXEXTENT;\n  if (xy[0] < -MAXEXTENT) xy[0] = -MAXEXTENT;\n  if (xy[1] > MAXEXTENT) xy[1] = MAXEXTENT;\n  if (xy[1] < -MAXEXTENT) xy[1] = -MAXEXTENT;\n  return xy;\n}\nfunction convertToWgs84(xy) {\n  var R2D = 180 / Math.PI;\n  var A = 6378137;\n  return [xy[0] * R2D / A, (Math.PI * 0.5 - 2 * Math.atan(Math.exp(-xy[1] / A))) * R2D];\n}\nfunction sign(x) {\n  return x < 0 ? -1 : x > 0 ? 1 : 0;\n}\nexport { toMercator, toWgs84 };\n//# sourceMappingURL=index.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}